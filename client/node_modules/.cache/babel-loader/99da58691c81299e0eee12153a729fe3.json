{"ast":null,"code":"import _regeneratorRuntime from\"/Users/baejunho/Desktop/nanas_homepage/nanas-shoppingMall/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/baejunho/Desktop/nanas_homepage/nanas-shoppingMall/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/baejunho/Desktop/nanas_homepage/nanas-shoppingMall/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useRef,useEffect}from\"react\";import classes from\"./Login.module.css\";import{Link}from\"react-router-dom\";import axios from\"axios\";import iconGoogle from\"../../../assets/icons/googleLogin.png\";import iconNaver from\"../../../assets/icons/naverLogin.png\";import iconKakao from\"../../../assets/icons/kakaoLogin.png\";import iconApple from\"../../../assets/icons/appleLogin.png\";import{FaEye}from\"react-icons/fa\";import{FaEyeSlash}from\"react-icons/fa\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),userID=_useState2[0],setUserID=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),userPW=_useState4[0],setUserPW=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showPW=_useState6[0],setShowPW=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isLogin=_useState8[0],setIsLogin=_useState8[1];var pwTab=useRef();var onClickShowPW=function onClickShowPW(){setShowPW(!showPW);};var onSubmitLogin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return axios.post(\"http://localhost:5000/login/api/login\",{userID:userID,userPW:userPW},{withCredentials:true}).then(function(response){if(response.data===\"secession\"){window.location.reload();alert(\"이미 탈퇴한 회원입니다\");}else if(response.data===\"invalid\"){alert(\"아이디 혹은 비밀번호를 확인해주세요\");}else{window.alert(\"로그인 성공!\");setIsLogin(true);window.location.replace(\"/\");}}).catch(function(error){console.log(error);});case 3:case\"end\":return _context.stop();}}},_callee);}));return function onSubmitLogin(_x){return _ref.apply(this,arguments);};}();//useEffect로 비밀번호 보기 숨기기 결정\nuseEffect(function(){var pwText=function pwText(){if(!showPW){pwTab.current.type=\"password\";}else{pwTab.current.type=\"text\";}};pwText();},[showPW]);return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"header\",{className:classes[\"regist-haader\"],children:/*#__PURE__*/_jsx(\"h2\",{children:\"\\uB85C\\uADF8\\uC778\"})}),/*#__PURE__*/_jsx(\"form\",{method:\"post\",className:classes[\"form-login\"],onSubmit:onSubmitLogin,children:/*#__PURE__*/_jsxs(\"div\",{className:classes[\"form-login-wrapper\"],children:[/*#__PURE__*/_jsx(\"div\",{className:classes[\"form-login-input\"],children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:function onChange(e){return setUserID(e.target.value);},placeholder:\"아이디를 입력해주세요\",required:true})}),/*#__PURE__*/_jsxs(\"div\",{className:classes[\"form-login-pw\"],children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",onChange:function onChange(e){return setUserPW(e.target.value);},placeholder:\"비밀번호를 입력해주세요\",ref:pwTab,required:true}),!showPW?/*#__PURE__*/_jsx(FaEyeSlash,{className:classes[\"form-login-pw-i\"],onClick:onClickShowPW}):/*#__PURE__*/_jsx(FaEye,{className:classes[\"form-login-pw-i\"],onClick:onClickShowPW})]}),/*#__PURE__*/_jsx(\"div\",{className:classes[\"form-login-handler\"],children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"로그인\",className:classes[\"form-login-submit\"]})}),/*#__PURE__*/_jsx(Link,{className:classes[\"form-login-non\"],children:/*#__PURE__*/_jsx(\"div\",{children:\"\\uBE44\\uD68C\\uC6D0 \\uC8FC\\uBB38\\uC870\\uD68C\"})}),/*#__PURE__*/_jsxs(\"div\",{className:classes[\"form-login-easy\"],children:[/*#__PURE__*/_jsx(\"p\",{className:classes[\"form-login-easy__title\"],children:\"\\uAC04\\uD3B8 \\uB85C\\uADF8\\uC778\"}),/*#__PURE__*/_jsxs(\"div\",{className:classes[\"form-login-easy__img\"],children:[/*#__PURE__*/_jsx(\"img\",{src:iconGoogle,alt:\"\\uAD6C\\uAE00\\uB85C\\uADF8\\uC778\\uC774\\uBBF8\\uC9C0\"}),/*#__PURE__*/_jsx(\"img\",{src:iconKakao,alt:\"\\uCE74\\uCE74\\uC624\\uB85C\\uADF8\\uC778\\uC774\\uBBF8\\uC9C0\"}),/*#__PURE__*/_jsx(\"img\",{src:iconNaver,alt:\"\\uB124\\uC774\\uBC84\\uB85C\\uADF8\\uC778\\uC774\\uBBF8\\uC9C0\"}),/*#__PURE__*/_jsx(\"img\",{src:iconApple,alt:\"\\uC560\\uD50C\\uB85C\\uADF8\\uC778\\uC774\\uBBF8\\uC9C0\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes[\"form-login-links\"],children:[/*#__PURE__*/_jsx(Link,{children:\"\\uC544\\uC774\\uB514\\uCC3E\\uAE30\"}),/*#__PURE__*/_jsx(Link,{children:\"\\uBE44\\uBC00\\uBC88\\uD638\\uCC3E\\uAE30\"}),/*#__PURE__*/_jsx(Link,{to:\"/regist\",children:\"\\uD68C\\uC6D0\\uAC00\\uC785\"})]}),/*#__PURE__*/_jsx(\"div\",{className:classes[\"form-login-banner\"],children:\"NANAS SALE 30% ~\"})]})})]});};export default Login;","map":{"version":3,"names":["React","useState","useRef","useEffect","classes","Link","axios","iconGoogle","iconNaver","iconKakao","iconApple","FaEye","FaEyeSlash","Login","userID","setUserID","userPW","setUserPW","showPW","setShowPW","isLogin","setIsLogin","pwTab","onClickShowPW","onSubmitLogin","e","preventDefault","post","withCredentials","then","response","data","window","location","reload","alert","replace","catch","error","console","log","pwText","current","type","target","value"],"sources":["/Users/baejunho/Desktop/nanas_homepage/nanas-shoppingMall/client/src/components/pages/login/Login.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport classes from \"./Login.module.css\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport iconGoogle from \"../../../assets/icons/googleLogin.png\";\nimport iconNaver from \"../../../assets/icons/naverLogin.png\";\nimport iconKakao from \"../../../assets/icons/kakaoLogin.png\";\nimport iconApple from \"../../../assets/icons/appleLogin.png\";\nimport { FaEye } from \"react-icons/fa\";\nimport { FaEyeSlash } from \"react-icons/fa\";\nconst Login = () => {\n  const [userID, setUserID] = useState(\"\");\n  const [userPW, setUserPW] = useState(\"\");\n  const [showPW, setShowPW] = useState(false);\n  const [isLogin, setIsLogin] = useState(false);\n  const pwTab = useRef();\n\n  const onClickShowPW = () => {\n    setShowPW(!showPW);\n  };\n  const onSubmitLogin = async (e) => {\n    e.preventDefault();\n    await axios\n      .post(\n        \"http://localhost:5000/login/api/login\",\n        { userID, userPW },\n        { withCredentials: true }\n      )\n      .then((response) => {\n        if (response.data === \"secession\") {\n          window.location.reload();\n          alert(\"이미 탈퇴한 회원입니다\");\n        } else if (response.data === \"invalid\") {\n          alert(\"아이디 혹은 비밀번호를 확인해주세요\");\n        } else {\n          window.alert(\"로그인 성공!\");\n          setIsLogin(true);\n          window.location.replace(\"/\");\n        }\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n  //useEffect로 비밀번호 보기 숨기기 결정\n  useEffect(() => {\n    const pwText = () => {\n      if (!showPW) {\n        pwTab.current.type = \"password\";\n      } else {\n        pwTab.current.type = \"text\";\n      }\n    };\n    pwText();\n  }, [showPW]);\n\n  return (\n    <React.Fragment>\n      <header className={classes[\"regist-haader\"]}>\n        <h2>로그인</h2>\n      </header>\n      <form\n        method=\"post\"\n        className={classes[\"form-login\"]}\n        onSubmit={onSubmitLogin}\n      >\n        <div className={classes[\"form-login-wrapper\"]}>\n          <div className={classes[\"form-login-input\"]}>\n            <input\n              type={\"text\"}\n              onChange={(e) => setUserID(e.target.value)}\n              placeholder={\"아이디를 입력해주세요\"}\n              required\n            />\n          </div>\n          <div className={classes[\"form-login-pw\"]}>\n            <input\n              type={\"password\"}\n              onChange={(e) => setUserPW(e.target.value)}\n              placeholder={\"비밀번호를 입력해주세요\"}\n              ref={pwTab}\n              required\n            />\n            {!showPW ? (\n              <FaEyeSlash\n                className={classes[\"form-login-pw-i\"]}\n                onClick={onClickShowPW}\n              />\n            ) : (\n              <FaEye\n                className={classes[\"form-login-pw-i\"]}\n                onClick={onClickShowPW}\n              />\n            )}\n          </div>\n          <div className={classes[\"form-login-handler\"]}>\n            <input\n              type={\"submit\"}\n              value={\"로그인\"}\n              className={classes[\"form-login-submit\"]}\n            ></input>\n          </div>\n          <Link className={classes[\"form-login-non\"]}>\n            <div>비회원 주문조회</div>\n          </Link>\n\n          <div className={classes[\"form-login-easy\"]}>\n            <p className={classes[\"form-login-easy__title\"]}>간편 로그인</p>\n            <div className={classes[\"form-login-easy__img\"]}>\n              <img src={iconGoogle} alt=\"구글로그인이미지\" />\n              <img src={iconKakao} alt=\"카카오로그인이미지\" />\n              <img src={iconNaver} alt=\"네이버로그인이미지\" />\n              <img src={iconApple} alt=\"애플로그인이미지\" />\n            </div>\n          </div>\n          <div className={classes[\"form-login-links\"]}>\n            <Link>아이디찾기</Link>\n            <Link>비밀번호찾기</Link>\n            <Link to={\"/regist\"}>회원가입</Link>\n          </div>\n\n          <div className={classes[\"form-login-banner\"]}>NANAS SALE 30% ~</div>\n        </div>\n      </form>\n    </React.Fragment>\n  );\n};\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}