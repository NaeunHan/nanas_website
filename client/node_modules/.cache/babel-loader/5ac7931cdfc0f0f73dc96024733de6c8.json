{"ast":null,"code":"import _regeneratorRuntime from\"/Users/baejunho/Desktop/nanas_homepage/nanas-shoppingMall/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/baejunho/Desktop/nanas_homepage/nanas-shoppingMall/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/baejunho/Desktop/nanas_homepage/nanas-shoppingMall/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import React,{useEffect,useState}from\"react\";import{RiShoppingCart2Line}from\"react-icons/ri\";import{useNavigate}from\"react-router-dom\";import{cookieCheck}from\"../../../util/authCheck\";import Card from\"../../UI/Card\";import classes from\"./ProductsBestThree.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProductsBestTen=function ProductsBestTen(_ref){var data=_ref.data;var navigate=useNavigate();var _useState=useState(),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLogin=_useState4[0],setIsLogin=_useState4[1];var handleInsertCart=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!isLogin){_context.next=5;break;}_context.next=3;return axios.post(\"http://localhost:5000/order/api/cart/insert\",{sQuantity:1,uId:user.uId,productId:data.productId}).then(function(response){if(response.data.status===200){if(window.confirm(response.data.message)){navigate(\"/cart\");}}});case 3:_context.next=7;break;case 5:alert(\"로그인이 필요합니다.\");navigate(\"/login\");case 7:case\"end\":return _context.stop();}}},_callee);}));return function handleInsertCart(){return _ref2.apply(this,arguments);};}();useEffect(function(){cookieCheck(setIsLogin,setUser);},[]);return/*#__PURE__*/_jsxs(Card,{className:classes.productsBestTen,children:[/*#__PURE__*/_jsx(Card,{className:classes[\"product-img\"],children:/*#__PURE__*/_jsx(\"img\",{src:data.image,alt:data.title})}),/*#__PURE__*/_jsxs(\"div\",{className:classes[\"product-content\"],children:[/*#__PURE__*/_jsx(\"p\",{className:classes[\"product-content-mall\"],children:data.mallname}),/*#__PURE__*/_jsx(\"h3\",{className:classes[\"product-content-title\"],children:data.title}),/*#__PURE__*/_jsxs(\"div\",{className:classes[\"product-content-priceInfo\"],children:[/*#__PURE__*/_jsx(\"p\",{className:classes[\"product-content-price\"],children:data.price}),/*#__PURE__*/_jsxs(\"p\",{className:classes[\"product-content-realPrice\"],children:[(data.price-data.price*data.pDiscount/100).toLocaleString(\"ko-kr\"),\"\\uC6D0\",/*#__PURE__*/_jsxs(\"span\",{className:classes[\"product-content-percent\"],children:[data.pDiscount,\"%\"]})]}),/*#__PURE__*/_jsxs(\"p\",{className:classes[\"product-conten-review\"],children:[/*#__PURE__*/_jsx(\"span\",{className:classes[\"product-conten-review__star\"],children:\"\\u2605\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uC0C1\\uD488\\uD3C9 ( \".concat(data.pReviewCount,\" )\")}),/*#__PURE__*/_jsx(\"span\",{className:classes[\"product-conten-review__split\"],children:\"|\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uB204\\uC801 \\uD310\\uB9E4\\uB7C9 ( \".concat(data.pSellCount,\" )\")}),/*#__PURE__*/_jsx(\"span\",{className:classes[\"product-conten-review__cart\"],children:/*#__PURE__*/_jsx(RiShoppingCart2Line,{onClick:handleInsertCart})})]})]})]})]});};export default ProductsBestTen;","map":{"version":3,"names":["axios","React","useEffect","useState","RiShoppingCart2Line","useNavigate","cookieCheck","Card","classes","ProductsBestTen","data","navigate","user","setUser","isLogin","setIsLogin","handleInsertCart","post","sQuantity","uId","productId","then","response","status","window","confirm","message","alert","productsBestTen","image","title","mallname","price","pDiscount","toLocaleString","pReviewCount","pSellCount"],"sources":["/Users/baejunho/Desktop/nanas_homepage/nanas-shoppingMall/client/src/components/pages/productBest/ProductsBestThree.jsx"],"sourcesContent":["import axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { RiShoppingCart2Line } from \"react-icons/ri\";\nimport { useNavigate } from \"react-router-dom\";\nimport { cookieCheck } from \"../../../util/authCheck\";\nimport Card from \"../../UI/Card\";\n\nimport classes from \"./ProductsBestThree.module.css\";\n\nconst ProductsBestTen = ({ data }) => {\n  const navigate = useNavigate();\n  const [user, setUser] = useState();\n  const [isLogin, setIsLogin] = useState(false);\n\n  const handleInsertCart = async () => {\n    if (isLogin) {\n      await axios\n        .post(\"http://localhost:5000/order/api/cart/insert\", {\n          sQuantity: 1,\n          uId: user.uId,\n          productId: data.productId,\n        })\n        .then((response) => {\n          if (response.data.status === 200) {\n            if (window.confirm(response.data.message)) {\n              navigate(\"/cart\");\n            }\n          }\n        });\n    } else {\n      alert(\"로그인이 필요합니다.\");\n      navigate(\"/login\");\n    }\n  };\n\n  useEffect(() => {\n    cookieCheck(setIsLogin, setUser);\n  }, []);\n  return (\n    <Card className={classes.productsBestTen}>\n      <Card className={classes[\"product-img\"]}>\n        <img src={data.image} alt={data.title} />\n      </Card>\n\n      <div className={classes[\"product-content\"]}>\n        <p className={classes[\"product-content-mall\"]}>{data.mallname}</p>\n        <h3 className={classes[\"product-content-title\"]}>{data.title}</h3>\n\n        <div className={classes[\"product-content-priceInfo\"]}>\n          <p className={classes[\"product-content-price\"]}>{data.price}</p>\n\n          <p className={classes[\"product-content-realPrice\"]}>\n            {(data.price - (data.price * data.pDiscount) / 100).toLocaleString(\n              \"ko-kr\"\n            )}\n            원\n            <span className={classes[\"product-content-percent\"]}>\n              {data.pDiscount}%\n            </span>\n          </p>\n\n          <p className={classes[\"product-conten-review\"]}>\n            <span className={classes[\"product-conten-review__star\"]}>★</span>\n            <span>{`상품평 ( ${data.pReviewCount} )`}</span>\n            <span className={classes[\"product-conten-review__split\"]}>|</span>\n\n            <span>{`누적 판매량 ( ${data.pSellCount} )`}</span>\n            <span className={classes[\"product-conten-review__cart\"]}>\n              <RiShoppingCart2Line onClick={handleInsertCart} />\n            </span>\n          </p>\n        </div>\n      </div>\n    </Card>\n  );\n};\n\nexport default ProductsBestTen;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}