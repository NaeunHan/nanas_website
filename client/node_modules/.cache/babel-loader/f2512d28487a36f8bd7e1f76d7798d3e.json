{"ast":null,"code":"import _slicedToArray from\"/Users/baejunho/Desktop/nanas_homepage/nanas-shoppingMall/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect}from\"react\";import{useState}from\"react\";import Pagination from\"react-js-pagination\";import{authCheck}from\"../../../util/authCheck\";import{getBoard}from\"../../../util/getBoard\";import{getUser}from\"../../../util/getUser\";import MyPageListForm from\"./MyPageListForm\";import MyPageListTitle from\"./MyPageListTitle\";import MyPageNullMsg from\"./MyPageNullMsg\";import classes from\"./ReviewList.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ReviewList=function ReviewList(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),boardData=_useState2[0],setBoarData=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),user=_useState4[0],setUser=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),currentPage=_useState6[0],setCurrntPage=_useState6[1];// 현재페이지\nvar _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),indexOfLastQnA=_useState8[0],setIndexOfLastQnA=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),indexOfFirstQnA=_useState10[0],setIndexOfFirstQnA=_useState10[1];var _useState11=useState(10),_useState12=_slicedToArray(_useState11,2),perPage=_useState12[0],setPerPage=_useState12[1];useEffect(function(){authCheck();getUser(setUser);getBoard(setBoarData);setIndexOfLastQnA(currentPage*perPage);setIndexOfFirstQnA(indexOfLastQnA-perPage);},[currentPage,indexOfFirstQnA,indexOfLastQnA,perPage]);var getInfo=boardData.filter(function(it){return it.bBoardtype===\"리뷰\";});return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:classes.ReviewList,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes[\"reviewList-title\"],children:[/*#__PURE__*/_jsx(MyPageListTitle,{text:\"리뷰\"}),/*#__PURE__*/_jsxs(\"select\",{className:classes[\"select-wrap\"],value:perPage,onChange:function onChange(_ref){var value=_ref.target.value;return setPerPage(Number(value));},children:[/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"1\\uAC1C\\uC529 \\uBCF4\\uAE30\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3\",children:\"3\\uAC1C\\uC529 \\uBCF4\\uAE30\"}),/*#__PURE__*/_jsx(\"option\",{value:\"5\",children:\"5\\uAC1C\\uC529 \\uBCF4\\uAE30\"}),/*#__PURE__*/_jsx(\"option\",{value:\"10\",children:\"10\\uAC1C\\uC529 \\uBCF4\\uAE30\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes[\"review-list-wrap-table\"],children:[getInfo.length===0&&/*#__PURE__*/_jsx(MyPageNullMsg,{className:classes[\"review-content-null\"],text:\"작성한 리뷰가 없어요.\"}),getInfo.slice(indexOfFirstQnA,indexOfLastQnA).map(function(item,key){return/*#__PURE__*/_jsx(MyPageListForm,{props:item,title:\"상품명\"},key);})]}),getInfo.length!=0&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Pagination,{activePage:currentPage// 현재 페이지\n,itemsCountPerPage:perPage// 한페이지당 보여줄 아이템 갯수\n,totalItemsCount:getInfo.length// 총 아이템 갯수\n,pageRangeDisplayed:5// 페이지네이터 내에서 보여줄 페이지 범위\n,prevPageText:\"<\",nextPageText:\">\",onChange:setCurrntPage// 페이지가 바뀔때 핸들링해주는 함수\n})})]})});};export default ReviewList;","map":{"version":3,"names":["React","useEffect","useState","Pagination","authCheck","getBoard","getUser","MyPageListForm","MyPageListTitle","MyPageNullMsg","classes","ReviewList","boardData","setBoarData","user","setUser","currentPage","setCurrntPage","indexOfLastQnA","setIndexOfLastQnA","indexOfFirstQnA","setIndexOfFirstQnA","perPage","setPerPage","getInfo","filter","it","bBoardtype","value","target","Number","length","slice","map","item","key"],"sources":["/Users/baejunho/Desktop/nanas_homepage/nanas-shoppingMall/client/src/components/pages/myPage/ReviewList.jsx"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport Pagination from \"react-js-pagination\";\nimport { authCheck } from \"../../../util/authCheck\";\nimport { getBoard } from \"../../../util/getBoard\";\nimport { getUser } from \"../../../util/getUser\";\nimport MyPageListForm from \"./MyPageListForm\";\nimport MyPageListTitle from \"./MyPageListTitle\";\nimport MyPageNullMsg from \"./MyPageNullMsg\";\n\nimport classes from \"./ReviewList.module.css\";\nconst ReviewList = () => {\n  const [boardData, setBoarData] = useState([]);\n  const [user, setUser] = useState({});\n\n  const [currentPage, setCurrntPage] = useState(1); // 현재페이지\n  const [indexOfLastQnA, setIndexOfLastQnA] = useState(0);\n  const [indexOfFirstQnA, setIndexOfFirstQnA] = useState(0);\n  const [perPage, setPerPage] = useState(10);\n\n  useEffect(() => {\n    authCheck();\n    getUser(setUser);\n    getBoard(setBoarData);\n    setIndexOfLastQnA(currentPage * perPage);\n    setIndexOfFirstQnA(indexOfLastQnA - perPage);\n  }, [currentPage, indexOfFirstQnA, indexOfLastQnA, perPage]);\n\n  const getInfo = boardData.filter((it) => it.bBoardtype === \"리뷰\");\n  return (\n    <React.Fragment>\n      <div className={classes.ReviewList}>\n        <div className={classes[\"reviewList-title\"]}>\n          <MyPageListTitle text={\"리뷰\"} />\n\n          <select\n            className={classes[\"select-wrap\"]}\n            value={perPage}\n            onChange={({ target: { value } }) => setPerPage(Number(value))}\n          >\n            <option value=\"1\">1개씩 보기</option>\n            <option value=\"3\">3개씩 보기</option>\n            <option value=\"5\">5개씩 보기</option>\n            <option value=\"10\">10개씩 보기</option>\n          </select>\n        </div>\n\n        <div className={classes[\"review-list-wrap-table\"]}>\n          {getInfo.length === 0 && (\n            <MyPageNullMsg\n              className={classes[\"review-content-null\"]}\n              text={\"작성한 리뷰가 없어요.\"}\n            />\n          )}\n          {getInfo.slice(indexOfFirstQnA, indexOfLastQnA).map((item, key) => {\n            return <MyPageListForm key={key} props={item} title={\"상품명\"} />;\n          })}\n        </div>\n\n        {getInfo.length != 0 && (\n          <div>\n            <Pagination\n              activePage={currentPage} // 현재 페이지\n              itemsCountPerPage={perPage} // 한페이지당 보여줄 아이템 갯수\n              totalItemsCount={getInfo.length} // 총 아이템 갯수\n              pageRangeDisplayed={5} // 페이지네이터 내에서 보여줄 페이지 범위\n              prevPageText={\"<\"}\n              nextPageText={\">\"}\n              onChange={setCurrntPage} // 페이지가 바뀔때 핸들링해주는 함수\n            />\n          </div>\n        )}\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default ReviewList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}