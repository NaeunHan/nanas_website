{"ast":null,"code":"import _slicedToArray from\"/Users/baejunho/Desktop/nanas_homepage/nanas-shoppingMall/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{useEffect}from\"react\";import{useLocation,useNavigate}from\"react-router-dom\";import{authCheck}from\"../../../util/authCheck\";import{getUser}from\"../../../util/getUser\";import classes from\"./OrderComplete.module.css\";import OrderConsumer from\"./orderInfo/OrderConsumer\";import OrderDeliveryInfo from\"./orderInfo/OrderDeliveryInfo\";import OrderProduct from\"./orderInfo/OrderProduct\";import barcodeIcons from\"../../../assets/icons/barcode.png\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var OrderComplete=function OrderComplete(){var navigate=useNavigate();var location=useLocation();var _useState=useState({}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];// 구매시간\nvar buyDate=new Date();var _useState3=useState({orderProducts:location.state.orderProducts,orderData:location.state.orderData,orderAddr:location.state.addrData}),_useState4=_slicedToArray(_useState3,1),orderCompleteData=_useState4[0];useEffect(function(){authCheck();getUser(setUser);},[]);return/*#__PURE__*/_jsxs(\"div\",{className:classes.orderComplete,children:[/*#__PURE__*/_jsx(\"h3\",{className:classes[\"orderComplete-title\"],children:\"\\uACB0\\uC81C\\uAC00 \\uC644\\uB8CC\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4.\"}),/*#__PURE__*/_jsxs(\"div\",{className:classes[\"orderComplete-recriptWrap\"],children:[/*#__PURE__*/_jsx(\"p\",{className:classes[\"orderComplete-recript-recript\"],children:\"\\uC601\\uC218\\uC99D\"}),/*#__PURE__*/_jsxs(\"section\",{className:classes[\"orderComplete-recript-section\"],children:[/*#__PURE__*/_jsx(\"h3\",{className:classes[\"orderComplete-recript-company\"],children:\"NANAS\"}),/*#__PURE__*/_jsxs(\"p\",{className:classes[\"orderComplete-recript-date\"],children:[\"\\uAD6C\\uB9E4\\uC2DC\\uAC04 : \",buyDate.toLocaleString()]})]}),/*#__PURE__*/_jsx(\"section\",{className:classes[\"orderComplete-recript-section\"],children:/*#__PURE__*/_jsx(OrderConsumer,{userData:user})}),/*#__PURE__*/_jsx(\"section\",{className:classes[\"orderComplete-recript-section\"],children:/*#__PURE__*/_jsx(OrderDeliveryInfo,{addrData:orderCompleteData.orderAddr,isOrderComplete:true})}),/*#__PURE__*/_jsxs(\"section\",{className:classes[\"orderComplete-recript-section\"],children:[/*#__PURE__*/_jsx(\"h4\",{className:classes[\"orderComplete-recript-title\"],children:\"\\uAD6C\\uB9E4\\uD55C \\uC0C1\\uD488\"}),/*#__PURE__*/_jsx(OrderProduct,{orderData:orderCompleteData.orderProducts})]}),/*#__PURE__*/_jsxs(\"section\",{className:classes[\"orderComplete-recript-section\"],children:[/*#__PURE__*/_jsx(\"h4\",{className:classes[\"orderComplete-recript-title\"],children:\"\\uACB0\\uC81C \\uC815\\uBCF4\"}),/*#__PURE__*/_jsx(\"table\",{className:classes[\"orderComplete-recript-table\"],children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:classes[\"orderComplete-recript-table__col1\"],children:\"\\uCD1D \\uC0C1\\uD488 \\uAE08\\uC561\"}),/*#__PURE__*/_jsxs(\"td\",{className:classes[\"orderComplete-recript-table__col2\"],children:[orderCompleteData.orderData.totalPrice.toLocaleString(\"ko-kr\"),\"\\uC6D0\"]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:classes[\"orderComplete-recript-table__col1\"],children:\"\\uBC30\\uC1A1\\uBE44\"}),/*#__PURE__*/_jsxs(\"td\",{className:classes[\"orderComplete-recript-table__col2\"],children:[orderCompleteData.orderData.totalDeliveyFee.toLocaleString(\"ko-kr\"),\"\\uC6D0\"]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:classes[\"orderComplete-recript-table__col1\"],children:\"\\uC0AC\\uC6A9 \\uB9C8\\uC77C\\uB9AC\\uC9C0\"}),/*#__PURE__*/_jsxs(\"td\",{className:classes[\"orderComplete-recript-table__col2\"],children:[orderCompleteData.orderData.oUseMile,\" \\uB9C8\\uC77C\\uB9AC\\uC9C0\"]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:classes[\"orderComplete-recript-table__col1\"],children:\"\\uC801\\uB9BD \\uB9C8\\uC77C\\uB9AC\\uC9C0\"}),/*#__PURE__*/_jsxs(\"td\",{className:classes[\"orderComplete-recript-table__col2\"],children:[orderCompleteData.orderData.oGetMile,\" \\uB9C8\\uC77C\\uB9AC\\uC9C0\"]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:classes[\"orderComplete-recript-table__col1\"],children:\"\\uACB0\\uC81C \\uBC29\\uBC95\"}),/*#__PURE__*/_jsx(\"td\",{className:classes[\"orderComplete-recript-table__col2\"],children:orderCompleteData.orderData.oMethod})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:classes[\"orderComplete-recript-table__col1\"],children:\"\\uCD1D \\uACB0\\uC81C \\uAE08\\uC561\"}),/*#__PURE__*/_jsx(\"td\",{className:classes[\"orderComplete-recript-table__col2\"],children:/*#__PURE__*/_jsxs(\"span\",{className:classes[\"orderComplete-recript__totalPrice\"],children:[(orderCompleteData.orderData.totalPrice+orderCompleteData.orderData.totalDeliveyFee-orderCompleteData.orderData.oUseMile).toLocaleString(\"ko-kr\"),\"\\uC6D0\"]})})]})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:classes[\"orderComplete-barcode\"],children:/*#__PURE__*/_jsx(\"img\",{src:barcodeIcons,alt:\"barcode\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:classes[\"orderComplete-control\"],children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return navigate(\"/\",{replace:true});},children:\"\\uD655\\uC778\"})})]});};export default OrderComplete;","map":{"version":3,"names":["React","useState","useEffect","useLocation","useNavigate","authCheck","getUser","classes","OrderConsumer","OrderDeliveryInfo","OrderProduct","barcodeIcons","OrderComplete","navigate","location","user","setUser","buyDate","Date","orderProducts","state","orderData","orderAddr","addrData","orderCompleteData","orderComplete","toLocaleString","totalPrice","totalDeliveyFee","oUseMile","oGetMile","oMethod","replace"],"sources":["/Users/baejunho/Desktop/nanas_homepage/nanas-shoppingMall/client/src/components/pages/order/OrderComplete.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { authCheck } from \"../../../util/authCheck\";\nimport { getUser } from \"../../../util/getUser\";\n\nimport classes from \"./OrderComplete.module.css\";\nimport OrderConsumer from \"./orderInfo/OrderConsumer\";\nimport OrderDeliveryInfo from \"./orderInfo/OrderDeliveryInfo\";\nimport OrderProduct from \"./orderInfo/OrderProduct\";\n\nimport barcodeIcons from \"../../../assets/icons/barcode.png\";\n\nconst OrderComplete = () => {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const [user, setUser] = useState({});\n  // 구매시간\n  const buyDate = new Date();\n\n  const [orderCompleteData] = useState({\n    orderProducts: location.state.orderProducts,\n    orderData: location.state.orderData,\n    orderAddr: location.state.addrData,\n  });\n\n  useEffect(() => {\n    authCheck();\n    getUser(setUser);\n  }, []);\n\n  return (\n    <div className={classes.orderComplete}>\n      <h3 className={classes[\"orderComplete-title\"]}>결제가 완료되었습니다.</h3>\n\n      <div className={classes[\"orderComplete-recriptWrap\"]}>\n        <p className={classes[\"orderComplete-recript-recript\"]}>영수증</p>\n\n        <section className={classes[\"orderComplete-recript-section\"]}>\n          <h3 className={classes[\"orderComplete-recript-company\"]}>NANAS</h3>\n          <p className={classes[\"orderComplete-recript-date\"]}>\n            구매시간 : {buyDate.toLocaleString()}\n          </p>\n        </section>\n\n        <section className={classes[\"orderComplete-recript-section\"]}>\n          <OrderConsumer userData={user} />\n        </section>\n\n        <section className={classes[\"orderComplete-recript-section\"]}>\n          <OrderDeliveryInfo\n            addrData={orderCompleteData.orderAddr}\n            isOrderComplete={true}\n          />\n        </section>\n\n        <section className={classes[\"orderComplete-recript-section\"]}>\n          <h4 className={classes[\"orderComplete-recript-title\"]}>\n            구매한 상품\n          </h4>\n          <OrderProduct orderData={orderCompleteData.orderProducts} />\n        </section>\n\n        <section className={classes[\"orderComplete-recript-section\"]}>\n          <h4 className={classes[\"orderComplete-recript-title\"]}>결제 정보</h4>\n\n          <table className={classes[\"orderComplete-recript-table\"]}>\n            <tbody>\n              <tr>\n                <td className={classes[\"orderComplete-recript-table__col1\"]}>\n                  총 상품 금액\n                </td>\n                <td className={classes[\"orderComplete-recript-table__col2\"]}>\n                  {orderCompleteData.orderData.totalPrice.toLocaleString(\n                    \"ko-kr\"\n                  )}\n                  원\n                </td>\n              </tr>\n\n              <tr>\n                <td className={classes[\"orderComplete-recript-table__col1\"]}>\n                  배송비\n                </td>\n                <td className={classes[\"orderComplete-recript-table__col2\"]}>\n                  {orderCompleteData.orderData.totalDeliveyFee.toLocaleString(\n                    \"ko-kr\"\n                  )}\n                  원\n                </td>\n              </tr>\n              <tr>\n                <td className={classes[\"orderComplete-recript-table__col1\"]}>\n                  사용 마일리지\n                </td>\n                <td className={classes[\"orderComplete-recript-table__col2\"]}>\n                  {orderCompleteData.orderData.oUseMile} 마일리지\n                </td>\n              </tr>\n              <tr>\n                <td className={classes[\"orderComplete-recript-table__col1\"]}>\n                  적립 마일리지\n                </td>\n                <td className={classes[\"orderComplete-recript-table__col2\"]}>\n                  {orderCompleteData.orderData.oGetMile} 마일리지\n                </td>\n              </tr>\n              <tr>\n                <td className={classes[\"orderComplete-recript-table__col1\"]}>\n                  결제 방법\n                </td>\n                <td className={classes[\"orderComplete-recript-table__col2\"]}>\n                  {orderCompleteData.orderData.oMethod}\n                </td>\n              </tr>\n              <tr>\n                <td className={classes[\"orderComplete-recript-table__col1\"]}>\n                  총 결제 금액\n                </td>\n                <td className={classes[\"orderComplete-recript-table__col2\"]}>\n                  <span\n                    className={classes[\"orderComplete-recript__totalPrice\"]}\n                  >\n                    {(\n                      orderCompleteData.orderData.totalPrice +\n                      orderCompleteData.orderData.totalDeliveyFee -\n                      orderCompleteData.orderData.oUseMile\n                    ).toLocaleString(\"ko-kr\")}\n                    원\n                  </span>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </section>\n\n        <div className={classes[\"orderComplete-barcode\"]}>\n          <img src={barcodeIcons} alt=\"barcode\" />\n        </div>\n      </div>\n\n      <div className={classes[\"orderComplete-control\"]}>\n        <button onClick={() => navigate(\"/\", { replace: true })}>확인</button>\n      </div>\n    </div>\n  );\n};\n\nexport default OrderComplete;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}