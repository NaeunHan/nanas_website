{"ast":null,"code":"import _regeneratorRuntime from\"/Users/baejunho/Desktop/nanas_homepage/nanas-shoppingMall/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/baejunho/Desktop/nanas_homepage/nanas-shoppingMall/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/baejunho/Desktop/nanas_homepage/nanas-shoppingMall/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import React,{useState}from\"react\";import classes from\"./SubUser.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SubUser=function SubUser(_ref){var detailUser=_ref.detailUser,showDetail=_ref.showDetail,setShowDetail=_ref.setShowDetail,setReset=_ref.setReset;var _useState=useState(),_useState2=_slicedToArray(_useState,2),auth=_useState2[0],setAuth=_useState2[1];var updateUserHandler=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var sendAuth;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();sendAuth=parseInt(auth);if(!(auth===\"no\")){_context.next=6;break;}alert(\"권한을 선택해 주세요\");_context.next=12;break;case 6:if(!(sendAuth===detailUser.uAuth)){_context.next=10;break;}alert(\"권한이 같습니다.\");_context.next=12;break;case 10:_context.next=12;return axios.post(\"http://localhost:5000/admin/api/updateUser\",{detailUser:detailUser,sendAuth:sendAuth}).then(function(response){if(response.data.status===200){alert(response.data.message);setReset(function(prev){return!prev;});}});case 12:case\"end\":return _context.stop();}}},_callee);}));return function updateUserHandler(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:classes.subUser,children:[/*#__PURE__*/_jsx(\"h4\",{className:classes[\"subOrder-title\"],children:\"\\uD68C\\uC6D0 \\uC0C1\\uC138 \\uC870\\uD68C\"}),/*#__PURE__*/_jsx(\"p\",{className:classes[\"subOrder-content__title\"],children:\"\\uD68C\\uC6D0\\uBC88\\uD638\"}),/*#__PURE__*/_jsx(\"p\",{className:classes[\"subOrder-content__data\"],children:detailUser.idx}),/*#__PURE__*/_jsx(\"p\",{className:classes[\"subOrder-content__title\"],children:\"\\uC544\\uC774\\uB514\"}),/*#__PURE__*/_jsx(\"p\",{className:classes[\"subOrder-content__data\"],children:detailUser.uId}),/*#__PURE__*/_jsx(\"p\",{className:classes[\"subOrder-content__title\"],children:\"\\uC774\\uB984\"}),/*#__PURE__*/_jsx(\"p\",{className:classes[\"subOrder-content__data\"],children:detailUser.uName}),/*#__PURE__*/_jsx(\"p\",{className:classes[\"subOrder-content__title\"],children:\"\\uC0DD\\uB144\\uC6D4\\uC77C\"}),/*#__PURE__*/_jsx(\"p\",{className:classes[\"subOrder-content__data\"],children:detailUser.uBirth}),/*#__PURE__*/_jsx(\"p\",{className:classes[\"subOrder-content__title\"],children:\"\\uC804\\uD654\\uBC88\\uD638\"}),/*#__PURE__*/_jsx(\"p\",{className:classes[\"subOrder-content__data\"],children:detailUser.uPhone}),/*#__PURE__*/_jsx(\"p\",{className:classes[\"subOrder-content__title\"],children:\"\\uC774\\uBA54\\uC77C\"}),/*#__PURE__*/_jsx(\"p\",{className:classes[\"subOrder-content__data\"],children:detailUser.uEmail}),/*#__PURE__*/_jsx(\"p\",{className:classes[\"subOrder-content__title\"],children:\"\\uC8FC\\uC18C\"}),/*#__PURE__*/_jsx(\"p\",{className:classes[\"subOrder-content__data\"],children:detailUser.uZipcode}),/*#__PURE__*/_jsxs(\"p\",{className:classes[\"subOrder-content__data\"],children:[detailUser.uAddress,\" \",detailUser.uAdditionalAddr]}),/*#__PURE__*/_jsx(\"p\",{className:classes[\"subOrder-content__title\"],children:\"\\uD3EC\\uC778\\uD2B8\"}),/*#__PURE__*/_jsx(\"p\",{className:classes[\"subOrder-content__data\"],children:detailUser.uMile}),/*#__PURE__*/_jsx(\"p\",{className:classes[\"subOrder-content__title\"],children:\"\\uAD8C\\uD55C\"}),/*#__PURE__*/_jsx(\"p\",{className:classes[\"subOrder-content__data\"],children:showDetail&&/*#__PURE__*/_jsxs(\"select\",{defaultValue:detailUser.uAuth,onChange:function onChange(e){setAuth(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"no\",children:\"\\uAD8C\\uD55C\\uC124\\uC815\"}),/*#__PURE__*/_jsx(\"option\",{value:\"0\",children:\"\\uD0C8\\uD1F4\\uCC98\\uB9AC\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"\\uC77C\\uBC18\\uD68C\\uC6D0\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"\\uAD00\\uB9AC\\uC790\"})]})}),/*#__PURE__*/_jsx(\"p\",{className:classes[\"subOrder-content__title\"],children:\"\\uAC00\\uC785\\uB0A0\\uC9DC\"}),/*#__PURE__*/_jsx(\"p\",{className:classes[\"subOrder-content__data\"],children:detailUser.uRegdate}),showDetail&&/*#__PURE__*/_jsx(\"div\",{className:classes[\"user-view\"],children:/*#__PURE__*/_jsx(\"button\",{onClick:updateUserHandler,children:\"\\uC218\\uC815\"})})]});};export default SubUser;","map":{"version":3,"names":["axios","React","useState","classes","SubUser","detailUser","showDetail","setShowDetail","setReset","auth","setAuth","updateUserHandler","e","preventDefault","sendAuth","parseInt","alert","uAuth","post","then","response","data","status","message","prev","subUser","idx","uId","uName","uBirth","uPhone","uEmail","uZipcode","uAddress","uAdditionalAddr","uMile","target","value","uRegdate"],"sources":["/Users/baejunho/Desktop/nanas_homepage/nanas-shoppingMall/client/src/components/pages/admin/SubUser.jsx"],"sourcesContent":["import axios from \"axios\";\nimport React, { useState } from \"react\";\n\nimport classes from \"./SubUser.module.css\";\n\nconst SubUser = ({ detailUser, showDetail, setShowDetail, setReset }) => {\n  const [auth, setAuth] = useState();\n\n  const updateUserHandler = async (e) => {\n    e.preventDefault();\n    const sendAuth = parseInt(auth);\n\n    if (auth === \"no\") {\n      alert(\"권한을 선택해 주세요\");\n    } else if (sendAuth === detailUser.uAuth) {\n      alert(\"권한이 같습니다.\");\n    } else {\n      await axios\n        .post(\"http://localhost:5000/admin/api/updateUser\", {\n          detailUser,\n          sendAuth,\n        })\n        .then((response) => {\n          if (response.data.status === 200) {\n            alert(response.data.message);\n            setReset((prev) => !prev);\n          }\n        });\n    }\n  };\n\n  return (\n    <div className={classes.subUser}>\n      <h4 className={classes[\"subOrder-title\"]}>회원 상세 조회</h4>\n\n      <p className={classes[\"subOrder-content__title\"]}>회원번호</p>\n      <p className={classes[\"subOrder-content__data\"]}>{detailUser.idx}</p>\n\n      <p className={classes[\"subOrder-content__title\"]}>아이디</p>\n      <p className={classes[\"subOrder-content__data\"]}>{detailUser.uId}</p>\n\n      <p className={classes[\"subOrder-content__title\"]}>이름</p>\n      <p className={classes[\"subOrder-content__data\"]}>{detailUser.uName}</p>\n\n      <p className={classes[\"subOrder-content__title\"]}>생년월일</p>\n      <p className={classes[\"subOrder-content__data\"]}>{detailUser.uBirth}</p>\n\n      <p className={classes[\"subOrder-content__title\"]}>전화번호</p>\n      <p className={classes[\"subOrder-content__data\"]}>{detailUser.uPhone}</p>\n\n      <p className={classes[\"subOrder-content__title\"]}>이메일</p>\n      <p className={classes[\"subOrder-content__data\"]}>{detailUser.uEmail}</p>\n\n      <p className={classes[\"subOrder-content__title\"]}>주소</p>\n      <p className={classes[\"subOrder-content__data\"]}>{detailUser.uZipcode}</p>\n      <p className={classes[\"subOrder-content__data\"]}>\n        {detailUser.uAddress} {detailUser.uAdditionalAddr}\n      </p>\n\n      <p className={classes[\"subOrder-content__title\"]}>포인트</p>\n      <p className={classes[\"subOrder-content__data\"]}>{detailUser.uMile}</p>\n\n      <p className={classes[\"subOrder-content__title\"]}>권한</p>\n      <p className={classes[\"subOrder-content__data\"]}>\n        {showDetail && (\n          <select\n            defaultValue={detailUser.uAuth}\n            onChange={(e) => {\n              setAuth(e.target.value);\n            }}\n          >\n            <option value=\"no\">권한설정</option>\n            <option value=\"0\">탈퇴처리</option>\n            <option value=\"1\">일반회원</option>\n            <option value=\"2\">관리자</option>\n          </select>\n        )}\n      </p>\n\n      <p className={classes[\"subOrder-content__title\"]}>가입날짜</p>\n      <p className={classes[\"subOrder-content__data\"]}>{detailUser.uRegdate}</p>\n      {showDetail && (\n        <div className={classes[\"user-view\"]}>\n          <button onClick={updateUserHandler}>수정</button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default SubUser;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}