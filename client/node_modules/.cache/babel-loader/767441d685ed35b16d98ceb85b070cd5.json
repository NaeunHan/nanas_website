{"ast":null,"code":"import _regeneratorRuntime from\"/Users/baejunho/Desktop/nanas_homepage/nanas-shoppingMall/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/baejunho/Desktop/nanas_homepage/nanas-shoppingMall/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/baejunho/Desktop/nanas_homepage/nanas-shoppingMall/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/* eslint-disable */import axios from\"axios\";import React,{useState}from\"react\";import{useEffect}from\"react\";import Pagination from\"react-js-pagination\";import classes from\"./AdminUser.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var User=function User(_ref){var userList=_ref.userList,setReset=_ref.setReset,setDetailUser=_ref.setDetailUser,showDetail=_ref.showDetail,setShowDetail=_ref.setShowDetail;var _useState=useState(1),_useState2=_slicedToArray(_useState,2),currentPage=_useState2[0],setCurrntPage=_useState2[1];// 현재페이지\nvar _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),indexOfLastQnA=_useState4[0],setIndexOfLastQnA=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),indexOfFirstQnA=_useState6[0],setIndexOfFirstQnA=_useState6[1];// const perPage = 10;\nvar _useState7=useState(10),_useState8=_slicedToArray(_useState7,2),perPage=_useState8[0],setPerPage=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),userView=_useState10[0],setUserView=_useState10[1];useEffect(function(){setIndexOfLastQnA(currentPage*perPage);setIndexOfFirstQnA(indexOfLastQnA-perPage);},[currentPage,indexOfFirstQnA,indexOfLastQnA,perPage]);var userOut=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(uId){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post(\"http://localhost:5000/admin/api/userOut\",{uId:uId}).then(function(response){alert(response.data);setReset(function(prev){return!prev;});});case 2:case\"end\":return _context.stop();}}},_callee);}));return function userOut(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:classes.adminUser,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes[\"adminUser-wrap\"],children:[/*#__PURE__*/_jsx(\"h3\",{className:classes[\"adminUser-title\"],children:\"\\uACE0\\uAC1D\\uAD00\\uB9AC\"}),/*#__PURE__*/_jsx(\"span\",{className:classes[\"adminUser-list\"],children:\"\\uCD1D \\uD68C\\uC6D0 \\uC218 : \".concat(userList.length,\"\\uBA85\")})]}),/*#__PURE__*/_jsxs(\"table\",{className:classes[\"adminUser-userList\"],children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"No.\"}),/*#__PURE__*/_jsx(\"td\",{children:\"\\uC544\\uC774\\uB514\"}),/*#__PURE__*/_jsx(\"td\",{children:\"\\uC774\\uB984\"}),/*#__PURE__*/_jsx(\"td\",{children:\"\\uC774\\uBA54\\uC77C\"}),/*#__PURE__*/_jsx(\"td\",{children:\"\\uC0DD\\uB144\\uC6D4\\uC77C\"}),/*#__PURE__*/_jsx(\"td\",{children:\"\\uAC00\\uC785\\uB0A0\\uC9DC\"}),/*#__PURE__*/_jsx(\"td\",{children:\"\\uAD8C\\uD55C\"}),/*#__PURE__*/_jsx(\"td\",{children:\"\\uAD00\\uB9AC\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:userList.slice(indexOfFirstQnA,indexOfLastQnA).map(function(it,key){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:it.idx}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:classes[\"user-view\"],onClick:function onClick(){return setDetailUser(it),setShowDetail(true);},children:it.uId})}),/*#__PURE__*/_jsx(\"td\",{children:it.uName}),/*#__PURE__*/_jsx(\"td\",{children:it.uEmail}),/*#__PURE__*/_jsx(\"td\",{children:it.uBirth}),/*#__PURE__*/_jsx(\"td\",{children:it.uRegdate}),/*#__PURE__*/_jsx(\"td\",{children:it.uAuth}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:classes[\"adminUser-userList-search\"],onClick:function onClick(){return userOut(it.uId);},children:\"\\uD0C8\\uD1F4\\uCC98\\uB9AC\"})})]},key);})})]}),userList.length!==0&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Pagination,{activePage:currentPage,itemsCountPerPage:perPage,totalItemsCount:userList.length,pageRangeDisplayed:5,prevPageText:\"<\",nextPageText:\">\",onChange:setCurrntPage})})]})});};export default User;","map":{"version":3,"names":["axios","React","useState","useEffect","Pagination","classes","User","userList","setReset","setDetailUser","showDetail","setShowDetail","currentPage","setCurrntPage","indexOfLastQnA","setIndexOfLastQnA","indexOfFirstQnA","setIndexOfFirstQnA","perPage","setPerPage","userView","setUserView","userOut","uId","post","then","response","alert","data","prev","adminUser","length","slice","map","it","key","idx","uName","uEmail","uBirth","uRegdate","uAuth"],"sources":["/Users/baejunho/Desktop/nanas_homepage/nanas-shoppingMall/client/src/components/pages/admin/AdminUser.jsx"],"sourcesContent":["/* eslint-disable */\nimport axios from \"axios\";\nimport React, { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport Pagination from \"react-js-pagination\";\n\nimport classes from \"./AdminUser.module.css\";\n\nconst User = ({\n  userList,\n  setReset,\n  setDetailUser,\n  showDetail,\n  setShowDetail,\n}) => {\n  const [currentPage, setCurrntPage] = useState(1); // 현재페이지\n  const [indexOfLastQnA, setIndexOfLastQnA] = useState(0);\n  const [indexOfFirstQnA, setIndexOfFirstQnA] = useState(0);\n  // const perPage = 10;\n  const [perPage, setPerPage] = useState(10);\n\n  const [userView, setUserView] = useState(false);\n  useEffect(() => {\n    setIndexOfLastQnA(currentPage * perPage);\n    setIndexOfFirstQnA(indexOfLastQnA - perPage);\n  }, [currentPage, indexOfFirstQnA, indexOfLastQnA, perPage]);\n\n  const userOut = async (uId) => {\n    await axios\n      .post(\"http://localhost:5000/admin/api/userOut\", { uId })\n      .then((response) => {\n        alert(response.data);\n        setReset((prev) => !prev);\n      });\n  };\n\n  return (\n    <React.Fragment>\n      <div className={classes.adminUser}>\n        {/* <AdminContentTitle title={\"고객관리\"} /> */}\n        <div className={classes[\"adminUser-wrap\"]}>\n          <h3 className={classes[\"adminUser-title\"]}>고객관리</h3>\n          <span\n            className={classes[\"adminUser-list\"]}\n          >{`총 회원 수 : ${userList.length}명`}</span>\n        </div>\n\n        <table className={classes[\"adminUser-userList\"]}>\n          <thead>\n            <tr>\n              <td>No.</td>\n              <td>아이디</td>\n              <td>이름</td>\n              <td>이메일</td>\n              <td>생년월일</td>\n              <td>가입날짜</td>\n              <td>권한</td>\n              <td>관리</td>\n            </tr>\n          </thead>\n          <tbody>\n            {userList.slice(indexOfFirstQnA, indexOfLastQnA).map((it, key) => (\n              <tr key={key}>\n                <td>{it.idx}</td>\n                <td>\n                  <button\n                    className={classes[\"user-view\"]}\n                    onClick={() => (setDetailUser(it), setShowDetail(true))}\n                  >\n                    {it.uId}\n                  </button>\n                </td>\n                <td>{it.uName}</td>\n                <td>{it.uEmail}</td>\n                <td>{it.uBirth}</td>\n                <td>{it.uRegdate}</td>\n                <td>{it.uAuth}</td>\n                <td>\n                  <button\n                    className={classes[\"adminUser-userList-search\"]}\n                    onClick={() => userOut(it.uId)}\n                  >\n                    탈퇴처리\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n\n        {userList.length !== 0 && (\n          <div>\n            <Pagination\n              activePage={currentPage}\n              itemsCountPerPage={perPage}\n              totalItemsCount={userList.length}\n              pageRangeDisplayed={5}\n              prevPageText={\"<\"}\n              nextPageText={\">\"}\n              onChange={setCurrntPage}\n            />\n          </div>\n        )}\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default User;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}