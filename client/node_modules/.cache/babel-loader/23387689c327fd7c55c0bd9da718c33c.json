{"ast":null,"code":"import _slicedToArray from\"/Users/baejunho/Desktop/nanas_homepage/nanas-shoppingMall/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{useEffect}from\"react\";import Pagination from\"react-js-pagination\";import NoneReview from\"./NoneReview\";import classes from\"./ProductReview.module.css\";import Review from\"./Review\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProductReview=function ProductReview(_ref){var productInquire=_ref.productInquire;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),reviewData=_useState2[0],setReviewData=_useState2[1];// 렌더링 시킬 상품 리뷰 데이터\nvar _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),currentPage=_useState4[0],setCurrntPage=_useState4[1];// 현재페이지\nvar _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),indexOfLastQnA=_useState6[0],setIndexOfLastQnA=_useState6[1];// 현재페이지에 반영되는 데이터의 마지막 인덱스\nvar _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),indexOfFirstQnA=_useState8[0],setIndexOfFirstQnA=_useState8[1];// 현재페이지에 반영되는 데이터의 처음 인덱스\nvar perPage=10;// 페이지에 표시할 데이터의 수\nuseEffect(function(){setReviewData(productInquire.filter(function(it){return it.bBoardtype===\"리뷰\";}));setIndexOfLastQnA(currentPage*perPage);setIndexOfFirstQnA(indexOfLastQnA-perPage);},[productInquire,currentPage,indexOfFirstQnA,indexOfLastQnA,perPage]);return/*#__PURE__*/_jsxs(\"div\",{className:classes.productReview,children:[/*#__PURE__*/_jsxs(\"h4\",{className:classes[\"productReview-title\"],children:[\"\\uC0C1\\uD488 \\uB9AC\\uBDF0\",/*#__PURE__*/_jsx(\"span\",{className:classes[\"productReview-amount\"],children:reviewData.length}),\"\\uAC74\"]}),reviewData.length!==0&&reviewData.slice(indexOfFirstQnA,indexOfLastQnA).map(function(it,key){return/*#__PURE__*/_jsx(Review,{data:it},key);}),reviewData.length===0&&/*#__PURE__*/_jsx(NoneReview,{title:\"리뷰\"}),/*#__PURE__*/_jsx(Pagination,{activePage:currentPage// 현재 페이지\n,itemsCountPerPage:perPage// 한페이지당 보여줄 아이템 갯수\n,totalItemsCount:reviewData.length// 총 아이템 갯수\n,pageRangeDisplayed:5// 페이지네이터 내에서 보여줄 페이지 범위\n,prevPageText:\"<\",nextPageText:\">\",onChange:setCurrntPage// 페이지가 바뀔때 핸들링해주는 함수\n})]});};export default ProductReview;","map":{"version":3,"names":["React","useState","useEffect","Pagination","NoneReview","classes","Review","ProductReview","productInquire","reviewData","setReviewData","currentPage","setCurrntPage","indexOfLastQnA","setIndexOfLastQnA","indexOfFirstQnA","setIndexOfFirstQnA","perPage","filter","it","bBoardtype","productReview","length","slice","map","key"],"sources":["/Users/baejunho/Desktop/nanas_homepage/nanas-shoppingMall/client/src/components/pages/productDetail/ProductReview.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport Pagination from \"react-js-pagination\";\nimport NoneReview from \"./NoneReview\";\n\nimport classes from \"./ProductReview.module.css\";\nimport Review from \"./Review\";\n\nconst ProductReview = ({ productInquire }) => {\n  const [reviewData, setReviewData] = useState([]); // 렌더링 시킬 상품 리뷰 데이터\n\n  const [currentPage, setCurrntPage] = useState(1); // 현재페이지\n  const [indexOfLastQnA, setIndexOfLastQnA] = useState(0); // 현재페이지에 반영되는 데이터의 마지막 인덱스\n  const [indexOfFirstQnA, setIndexOfFirstQnA] = useState(0); // 현재페이지에 반영되는 데이터의 처음 인덱스\n\n  const perPage = 10; // 페이지에 표시할 데이터의 수\n\n  useEffect(() => {\n    setReviewData(productInquire.filter((it) => it.bBoardtype === \"리뷰\"));\n\n    setIndexOfLastQnA(currentPage * perPage);\n    setIndexOfFirstQnA(indexOfLastQnA - perPage);\n  }, [productInquire, currentPage, indexOfFirstQnA, indexOfLastQnA, perPage]);\n\n  return (\n    <div className={classes.productReview}>\n      <h4 className={classes[\"productReview-title\"]}>\n        상품 리뷰\n        <span className={classes[\"productReview-amount\"]}>\n          {reviewData.length}\n        </span>\n        건\n      </h4>\n\n      {reviewData.length !== 0 &&\n        reviewData\n          .slice(indexOfFirstQnA, indexOfLastQnA)\n          .map((it, key) => <Review key={key} data={it} />)}\n\n      {reviewData.length === 0 && <NoneReview title={\"리뷰\"} />}\n      <Pagination\n        activePage={currentPage} // 현재 페이지\n        itemsCountPerPage={perPage} // 한페이지당 보여줄 아이템 갯수\n        totalItemsCount={reviewData.length} // 총 아이템 갯수\n        pageRangeDisplayed={5} // 페이지네이터 내에서 보여줄 페이지 범위\n        prevPageText={\"<\"}\n        nextPageText={\">\"}\n        onChange={setCurrntPage} // 페이지가 바뀔때 핸들링해주는 함수\n      />\n    </div>\n  );\n};\n\nexport default ProductReview;\n"],"mappings":"sJAAA,MAAOA,MAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,SAAS,KAAQ,OAAO,CACjC,MAAOC,WAAU,KAAM,qBAAqB,CAC5C,MAAOC,WAAU,KAAM,cAAc,CAErC,MAAOC,QAAO,KAAM,4BAA4B,CAChD,MAAOC,OAAM,KAAM,UAAU,CAAC,wFAE9B,GAAMC,cAAa,CAAG,QAAhBA,cAAa,MAA2B,IAArBC,eAAc,MAAdA,cAAc,CACrC,cAAoCP,QAAQ,CAAC,EAAE,CAAC,wCAAzCQ,UAAU,eAAEC,aAAa,eAAkB;AAElD,eAAqCT,QAAQ,CAAC,CAAC,CAAC,yCAAzCU,WAAW,eAAEC,aAAa,eAAiB;AAClD,eAA4CX,QAAQ,CAAC,CAAC,CAAC,yCAAhDY,cAAc,eAAEC,iBAAiB,eAAiB;AACzD,eAA8Cb,QAAQ,CAAC,CAAC,CAAC,yCAAlDc,eAAe,eAAEC,kBAAkB,eAAiB;AAE3D,GAAMC,QAAO,CAAG,EAAE,CAAE;AAEpBf,SAAS,CAAC,UAAM,CACdQ,aAAa,CAACF,cAAc,CAACU,MAAM,CAAC,SAACC,EAAE,QAAKA,GAAE,CAACC,UAAU,GAAK,IAAI,GAAC,CAAC,CAEpEN,iBAAiB,CAACH,WAAW,CAAGM,OAAO,CAAC,CACxCD,kBAAkB,CAACH,cAAc,CAAGI,OAAO,CAAC,CAC9C,CAAC,CAAE,CAACT,cAAc,CAAEG,WAAW,CAAEI,eAAe,CAAEF,cAAc,CAAEI,OAAO,CAAC,CAAC,CAE3E,mBACE,aAAK,SAAS,CAAEZ,OAAO,CAACgB,aAAc,wBACpC,YAAI,SAAS,CAAEhB,OAAO,CAAC,qBAAqB,CAAE,oDAE5C,aAAM,SAAS,CAAEA,OAAO,CAAC,sBAAsB,CAAE,UAC9CI,UAAU,CAACa,MAAM,EACb,YAEJ,CAEJb,UAAU,CAACa,MAAM,GAAK,CAAC,EACtBb,UAAU,CACPc,KAAK,CAACR,eAAe,CAAEF,cAAc,CAAC,CACtCW,GAAG,CAAC,SAACL,EAAE,CAAEM,GAAG,qBAAK,KAAC,MAAM,EAAW,IAAI,CAAEN,EAAG,EAAdM,GAAG,CAAc,GAAC,CAEpDhB,UAAU,CAACa,MAAM,GAAK,CAAC,eAAI,KAAC,UAAU,EAAC,KAAK,CAAE,IAAK,EAAG,cACvD,KAAC,UAAU,EACT,UAAU,CAAEX,WAAa;AAAA,CACzB,iBAAiB,CAAEM,OAAS;AAAA,CAC5B,eAAe,CAAER,UAAU,CAACa,MAAQ;AAAA,CACpC,kBAAkB,CAAE,CAAG;AAAA,CACvB,YAAY,CAAE,GAAI,CAClB,YAAY,CAAE,GAAI,CAClB,QAAQ,CAAEV,aAAe;AAAA,EACzB,GACE,CAEV,CAAC,CAED,cAAeL,cAAa"},"metadata":{},"sourceType":"module"}