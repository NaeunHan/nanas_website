{"ast":null,"code":"import _regeneratorRuntime from\"/Users/baejunho/Desktop/nanas_homepage/nanas-shoppingMall/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/baejunho/Desktop/nanas_homepage/nanas-shoppingMall/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/baejunho/Desktop/nanas_homepage/nanas-shoppingMall/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useRef}from\"react\";import{useNavigate}from\"react-router-dom\";import axios from\"axios\";import classes from\"./MyPageCheckPw.module.css\";import MyPageListTitle from\"./MyPageListTitle\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MyPageCheckPw=function MyPageCheckPw(_ref){var user=_ref.user,setUserPw=_ref.setUserPw;var _useState=useState(),_useState2=_slicedToArray(_useState,2),checkInputPw=_useState2[0],setCheckInputPw=_useState2[1];var pwInput=useRef();var navigate=useNavigate();var checkPw=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return axios.post(\"http://localhost:5000/mypage/api/checkingpw\",{user:user,checkInputPw:checkInputPw}).then(function(response){var msg=response.data.message;if(response.data.status===200){alert(msg);setUserPw(true);}else if(response.data.status===400){alert(msg);pwInput.current.focus();}else if(response.data.status===401){alert(msg);pwInput.current.focus();}});case 3:case\"end\":return _context.stop();}}},_callee);}));return function checkPw(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:classes.MyPageCheckPw,children:[/*#__PURE__*/_jsx(MyPageListTitle,{text:\"회원 정보 확인\"}),/*#__PURE__*/_jsxs(\"div\",{className:classes[\"checkpw-wrap-title\"],children:[/*#__PURE__*/_jsx(\"span\",{children:user.uName}),\"\\uB2D8\\uC758 \\uC815\\uBCF4\\uB97C \\uC548\\uC804\\uD558\\uAC8C \\uBCF4\\uD638\\uD558\\uAE30 \\uC704\\uD574 \\uBE44\\uBC00\\uBC88\\uD638\\uB97C \\uB2E4\\uC2DC \\uD55C\\uBC88 \\uD655\\uC778\\uD569\\uB2C8\\uB2E4.\"]}),/*#__PURE__*/_jsxs(\"form\",{action:\"\",onSubmit:checkPw,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes[\"checkpw-wrap-content\"],children:[/*#__PURE__*/_jsxs(\"div\",{className:classes[\"checkpw-wrap-item\"],children:[/*#__PURE__*/_jsx(\"div\",{className:classes[\"checkpw-title\"],children:\"\\uC544\\uC774\\uB514\"}),/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(classes[\"checkpw-input\"],\" \").concat(classes[\"checkpw-input-id\"]),children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",readOnly:true,defaultValue:user.uName})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(classes[\"checkpw-wrap-item\"],\" \").concat(classes[\"checkpw-wrap-item-border\"]),children:[/*#__PURE__*/_jsx(\"div\",{className:classes[\"checkpw-title\"],children:\"\\uBE44\\uBC00\\uBC88\\uD638\"}),/*#__PURE__*/_jsx(\"div\",{className:classes[\"checkpw-input\"],children:/*#__PURE__*/_jsx(\"input\",{ref:pwInput,type:\"password\",onChange:function onChange(e){return setCheckInputPw(e.target.value);}})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes[\"checkpw-wrap-button\"],children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"\\uD655\\uC778\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){return navigate(-1,{replace:true});},children:\"\\uCDE8\\uC18C\"})]})]})]})});};export default MyPageCheckPw;","map":{"version":3,"names":["React","useState","useRef","useNavigate","axios","classes","MyPageListTitle","MyPageCheckPw","user","setUserPw","checkInputPw","setCheckInputPw","pwInput","navigate","checkPw","e","preventDefault","post","then","response","msg","data","message","status","alert","current","focus","uName","target","value","replace"],"sources":["/Users/baejunho/Desktop/nanas_homepage/nanas-shoppingMall/client/src/components/pages/myPage/MyPageCheckPw.jsx"],"sourcesContent":["import React, { useState, useRef } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport classes from \"./MyPageCheckPw.module.css\";\nimport MyPageListTitle from \"./MyPageListTitle\";\n\nconst MyPageCheckPw = ({ user, setUserPw }) => {\n  const [checkInputPw, setCheckInputPw] = useState();\n\n  const pwInput = useRef();\n\n  const navigate = useNavigate();\n\n  const checkPw = async (e) => {\n    e.preventDefault();\n\n    await axios\n      .post(\"http://localhost:5000/mypage/api/checkingpw\", {\n        user,\n        checkInputPw,\n      })\n      .then((response) => {\n        const msg = response.data.message;\n        if (response.data.status === 200) {\n          alert(msg);\n          setUserPw(true);\n        } else if (response.data.status === 400) {\n          alert(msg);\n          pwInput.current.focus();\n        } else if (response.data.status === 401) {\n          alert(msg);\n          pwInput.current.focus();\n        }\n      });\n  };\n\n  return (\n    <React.Fragment>\n      <div className={classes.MyPageCheckPw}>\n        <MyPageListTitle text={\"회원 정보 확인\"} />\n        <div className={classes[\"checkpw-wrap-title\"]}>\n          <span>{user.uName}</span>\n          님의 정보를 안전하게 보호하기 위해 비밀번호를 다시 한번 확인합니다.\n        </div>\n        <form action=\"\" onSubmit={checkPw}>\n          <div className={classes[\"checkpw-wrap-content\"]}>\n            <div className={classes[\"checkpw-wrap-item\"]}>\n              <div className={classes[\"checkpw-title\"]}>아이디</div>\n              <div\n                className={`${classes[\"checkpw-input\"]} ${classes[\"checkpw-input-id\"]}`}\n              >\n                <input type=\"text\" readOnly defaultValue={user.uName} />\n              </div>\n            </div>\n\n            <div\n              className={`${classes[\"checkpw-wrap-item\"]} ${classes[\"checkpw-wrap-item-border\"]}`}\n            >\n              <div className={classes[\"checkpw-title\"]}>비밀번호</div>\n              <div className={classes[\"checkpw-input\"]}>\n                <input\n                  ref={pwInput}\n                  type=\"password\"\n                  onChange={(e) => setCheckInputPw(e.target.value)}\n                />\n              </div>\n            </div>\n          </div>\n\n          <div className={classes[\"checkpw-wrap-button\"]}>\n            <button type=\"submit\">확인</button>\n            <button\n              type=\"button\"\n              onClick={() => navigate(-1, { replace: true })}\n            >\n              취소\n            </button>\n          </div>\n        </form>\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default MyPageCheckPw;\n"],"mappings":"kdAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,MAAM,KAAQ,OAAO,CAC/C,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAOC,MAAK,KAAM,OAAO,CACzB,MAAOC,QAAO,KAAM,4BAA4B,CAChD,MAAOC,gBAAe,KAAM,mBAAmB,CAAC,wFAEhD,GAAMC,cAAa,CAAG,QAAhBA,cAAa,MAA4B,IAAtBC,KAAI,MAAJA,IAAI,CAAEC,SAAS,MAATA,SAAS,CACtC,cAAwCR,QAAQ,EAAE,wCAA3CS,YAAY,eAAEC,eAAe,eAEpC,GAAMC,QAAO,CAAGV,MAAM,EAAE,CAExB,GAAMW,SAAQ,CAAGV,WAAW,EAAE,CAE9B,GAAMW,QAAO,6FAAG,iBAAOC,CAAC,oHACtBA,CAAC,CAACC,cAAc,EAAE,CAAC,sBAEbZ,MAAK,CACRa,IAAI,CAAC,6CAA6C,CAAE,CACnDT,IAAI,CAAJA,IAAI,CACJE,YAAY,CAAZA,YACF,CAAC,CAAC,CACDQ,IAAI,CAAC,SAACC,QAAQ,CAAK,CAClB,GAAMC,IAAG,CAAGD,QAAQ,CAACE,IAAI,CAACC,OAAO,CACjC,GAAIH,QAAQ,CAACE,IAAI,CAACE,MAAM,GAAK,GAAG,CAAE,CAChCC,KAAK,CAACJ,GAAG,CAAC,CACVX,SAAS,CAAC,IAAI,CAAC,CACjB,CAAC,IAAM,IAAIU,QAAQ,CAACE,IAAI,CAACE,MAAM,GAAK,GAAG,CAAE,CACvCC,KAAK,CAACJ,GAAG,CAAC,CACVR,OAAO,CAACa,OAAO,CAACC,KAAK,EAAE,CACzB,CAAC,IAAM,IAAIP,QAAQ,CAACE,IAAI,CAACE,MAAM,GAAK,GAAG,CAAE,CACvCC,KAAK,CAACJ,GAAG,CAAC,CACVR,OAAO,CAACa,OAAO,CAACC,KAAK,EAAE,CACzB,CACF,CAAC,CAAC,uDACL,kBArBKZ,QAAO,6CAqBZ,CAED,mBACE,KAAC,KAAK,CAAC,QAAQ,wBACb,aAAK,SAAS,CAAET,OAAO,CAACE,aAAc,wBACpC,KAAC,eAAe,EAAC,IAAI,CAAE,UAAW,EAAG,cACrC,aAAK,SAAS,CAAEF,OAAO,CAAC,oBAAoB,CAAE,wBAC5C,sBAAOG,IAAI,CAACmB,KAAK,EAAQ,6LAErB,cACN,cAAM,MAAM,CAAC,EAAE,CAAC,QAAQ,CAAEb,OAAQ,wBAChC,aAAK,SAAS,CAAET,OAAO,CAAC,sBAAsB,CAAE,wBAC9C,aAAK,SAAS,CAAEA,OAAO,CAAC,mBAAmB,CAAE,wBAC3C,YAAK,SAAS,CAAEA,OAAO,CAAC,eAAe,CAAE,gCAAU,cACnD,YACE,SAAS,WAAKA,OAAO,CAAC,eAAe,CAAC,aAAIA,OAAO,CAAC,kBAAkB,CAAC,CAAG,uBAExE,cAAO,IAAI,CAAC,MAAM,CAAC,QAAQ,MAAC,YAAY,CAAEG,IAAI,CAACmB,KAAM,EAAG,EACpD,GACF,cAEN,aACE,SAAS,WAAKtB,OAAO,CAAC,mBAAmB,CAAC,aAAIA,OAAO,CAAC,0BAA0B,CAAC,CAAG,wBAEpF,YAAK,SAAS,CAAEA,OAAO,CAAC,eAAe,CAAE,sCAAW,cACpD,YAAK,SAAS,CAAEA,OAAO,CAAC,eAAe,CAAE,uBACvC,cACE,GAAG,CAAEO,OAAQ,CACb,IAAI,CAAC,UAAU,CACf,QAAQ,CAAE,kBAACG,CAAC,QAAKJ,gBAAe,CAACI,CAAC,CAACa,MAAM,CAACC,KAAK,CAAC,EAAC,EACjD,EACE,GACF,GACF,cAEN,aAAK,SAAS,CAAExB,OAAO,CAAC,qBAAqB,CAAE,wBAC7C,eAAQ,IAAI,CAAC,QAAQ,0BAAY,cACjC,eACE,IAAI,CAAC,QAAQ,CACb,OAAO,CAAE,yBAAMQ,SAAQ,CAAC,CAAC,CAAC,CAAE,CAAEiB,OAAO,CAAE,IAAK,CAAC,CAAC,EAAC,0BAGxC,GACL,GACD,GACH,EACS,CAErB,CAAC,CAED,cAAevB,cAAa"},"metadata":{},"sourceType":"module"}