{"ast":null,"code":"import _slicedToArray from\"/Users/baejunho/Desktop/nanas_homepage/nanas-shoppingMall/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import MyPageListTitle from\"./MyPageListTitle\";import MyPageListForm from\"./MyPageListForm\";import classes from\"./MyPageInquiryList.module.css\";import MyPageNullMsg from\"./MyPageNullMsg\";import{authCheck}from\"../../../util/authCheck\";import{getBoard}from\"../../../util/getBoard\";import Pagination from\"react-js-pagination\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MyPageInquiryList=function MyPageInquiryList(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),boardData=_useState2[0],setBoarData=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),currentPage=_useState4[0],setCurrntPage=_useState4[1];// 현재페이지\nvar _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),indexOfLastQnA=_useState6[0],setIndexOfLastQnA=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),indexOfFirstQnA=_useState8[0],setIndexOfFirstQnA=_useState8[1];var _useState9=useState(10),_useState10=_slicedToArray(_useState9,2),perPage=_useState10[0],setPerPage=_useState10[1];useEffect(function(){authCheck();getBoard(setBoarData);setIndexOfLastQnA(currentPage*perPage);setIndexOfFirstQnA(indexOfLastQnA-perPage);},[currentPage,indexOfFirstQnA,indexOfLastQnA,perPage]);var getInfo=boardData.filter(function(it){return it.bBoardtype===\"교환/환불문의\"||it.bBoardtype===\"배송문의\"||it.bBoardtype===\"상품문의\"||it.bBoardtype===\"교환\"||it.bBoardtype===\"취소\"||it.bBoardtype===\"반품\"||it.bBoardtype===\"환불\";});return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:classes.MyPageInquiryList,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes[\"inquiryList-title\"],children:[/*#__PURE__*/_jsx(MyPageListTitle,{text:\"문의내역\"}),/*#__PURE__*/_jsxs(\"select\",{className:classes[\"select-wrap\"]// type={Number}\n,value:perPage,onChange:function onChange(_ref){var value=_ref.target.value;setPerPage(Number(value));setCurrntPage(1);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"1\\uAC1C\\uC529 \\uBCF4\\uAE30\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3\",children:\"3\\uAC1C\\uC529 \\uBCF4\\uAE30\"}),/*#__PURE__*/_jsx(\"option\",{value:\"5\",children:\"5\\uAC1C\\uC529 \\uBCF4\\uAE30\"}),/*#__PURE__*/_jsx(\"option\",{value:\"10\",children:\"10\\uAC1C\\uC529 \\uBCF4\\uAE30\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes[\"inquiry-list-wrap-table\"],children:[getInfo.length===0&&/*#__PURE__*/_jsx(MyPageNullMsg,{className:classes[\"inquirylist-content-null\"],text:\"문의 내역이 없습니다.\"}),getInfo.slice(indexOfFirstQnA,indexOfLastQnA).map(function(item,key){return/*#__PURE__*/_jsx(MyPageListForm,{props:item,title:\"상품명\"},key);})]}),getInfo.length!=0&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Pagination,{activePage:currentPage// 현재 페이지\n,itemsCountPerPage:perPage// 한페이지당 보여줄 아이템 갯수\n,totalItemsCount:getInfo.length// 총 아이템 갯수\n,pageRangeDisplayed:5// 페이지네이터 내에서 보여줄 페이지 범위\n,prevPageText:\"<\",nextPageText:\">\",onChange:setCurrntPage// 페이지가 바뀔때 핸들링해주는 함수\n})})]})});};export default MyPageInquiryList;","map":{"version":3,"names":["React","useEffect","useState","MyPageListTitle","MyPageListForm","classes","MyPageNullMsg","authCheck","getBoard","Pagination","MyPageInquiryList","boardData","setBoarData","currentPage","setCurrntPage","indexOfLastQnA","setIndexOfLastQnA","indexOfFirstQnA","setIndexOfFirstQnA","perPage","setPerPage","getInfo","filter","it","bBoardtype","value","target","Number","length","slice","map","item","key"],"sources":["/Users/baejunho/Desktop/nanas_homepage/nanas-shoppingMall/client/src/components/pages/myPage/MyPageInquiryList.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport MyPageListTitle from \"./MyPageListTitle\";\nimport MyPageListForm from \"./MyPageListForm\";\n\nimport classes from \"./MyPageInquiryList.module.css\";\nimport MyPageNullMsg from \"./MyPageNullMsg\";\nimport { authCheck } from \"../../../util/authCheck\";\nimport { getBoard } from \"../../../util/getBoard\";\nimport Pagination from \"react-js-pagination\";\n\nconst MyPageInquiryList = () => {\n  const [boardData, setBoarData] = useState([]);\n\n  const [currentPage, setCurrntPage] = useState(1); // 현재페이지\n  const [indexOfLastQnA, setIndexOfLastQnA] = useState(0);\n  const [indexOfFirstQnA, setIndexOfFirstQnA] = useState(0);\n  const [perPage, setPerPage] = useState(10);\n\n  useEffect(() => {\n    authCheck();\n    getBoard(setBoarData);\n    setIndexOfLastQnA(currentPage * perPage);\n    setIndexOfFirstQnA(indexOfLastQnA - perPage);\n  }, [currentPage, indexOfFirstQnA, indexOfLastQnA, perPage]);\n\n  const getInfo = boardData.filter(\n    (it) =>\n      it.bBoardtype === \"교환/환불문의\" ||\n      it.bBoardtype === \"배송문의\" ||\n      it.bBoardtype === \"상품문의\" ||\n      it.bBoardtype === \"교환\" ||\n      it.bBoardtype === \"취소\" ||\n      it.bBoardtype === \"반품\" ||\n      it.bBoardtype === \"환불\"\n  );\n\n  return (\n    <React.Fragment>\n      <div className={classes.MyPageInquiryList}>\n        <div className={classes[\"inquiryList-title\"]}>\n          <MyPageListTitle text={\"문의내역\"} />\n\n          <select\n            className={classes[\"select-wrap\"]}\n            // type={Number}\n            value={perPage}\n            onChange={({ target: { value } }) => {\n              setPerPage(Number(value));\n              setCurrntPage(1);\n            }}\n          >\n            <option value=\"1\">1개씩 보기</option>\n            <option value=\"3\">3개씩 보기</option>\n            <option value=\"5\">5개씩 보기</option>\n            <option value=\"10\">10개씩 보기</option>\n          </select>\n        </div>\n\n        <div className={classes[\"inquiry-list-wrap-table\"]}>\n          {getInfo.length === 0 && (\n            <MyPageNullMsg\n              className={classes[\"inquirylist-content-null\"]}\n              text={\"문의 내역이 없습니다.\"}\n            />\n          )}\n          {getInfo.slice(indexOfFirstQnA, indexOfLastQnA).map((item, key) => {\n            return <MyPageListForm key={key} props={item} title={\"상품명\"} />;\n          })}\n        </div>\n\n        {getInfo.length != 0 && (\n          <div>\n            <Pagination\n              activePage={currentPage} // 현재 페이지\n              itemsCountPerPage={perPage} // 한페이지당 보여줄 아이템 갯수\n              totalItemsCount={getInfo.length} // 총 아이템 갯수\n              pageRangeDisplayed={5} // 페이지네이터 내에서 보여줄 페이지 범위\n              prevPageText={\"<\"}\n              nextPageText={\">\"}\n              onChange={setCurrntPage} // 페이지가 바뀔때 핸들링해주는 함수\n            />\n          </div>\n        )}\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default MyPageInquiryList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}